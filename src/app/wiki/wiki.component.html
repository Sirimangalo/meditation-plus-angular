<md-card>
  <!-- embed video player showing selected video -->
  <div class="head">
    <div *ngIf="!selectedVideo">
      <md-icon style="">ondemand_video</md-icon>
      <span>no video selected</span>
    </div>
    <div class="embed">
      <iframe *ngIf="selectedVideo"
              [src]="selectedVideo | safe"
              frameborder="0"
              allowfullscreen>
      </iframe>
    </div>
  </div>

  <!-- list of categories/topics -->
  <table class="toc" *ngIf="categories">
    <tr *ngFor="let cat of categories"
        (click)="changeCategory(cat)"
        [class.selected]="selectedCategory === cat">
      <td>{{ cat + ' (' + structure[cat].count + ')' }}</td>
    </tr>
  </table>

  <!-- selection of tags for current category -->
  <div *ngIf="selectedCategory && categories && structure">

    <div *ngFor="let cat of categories">
      <div *ngFor="let tag of structure[cat].tags"
           [hidden]="selectedCategory !== cat">
        <md-checkbox
          (change)="updateVideos()"
          [(ngModel)]="selectedTags[tag]">
        {{ tag }}
        </md-checkbox>
      </div>
    </div>

  </div>

  <!-- list of videos for current selection -->
  <div *ngIf="selectedCategory && selectedVideos">
    <div *ngFor="let video of selectedVideos" class="fill row">
      <md-icon class="play" (click)="selectVideo(video)">play_circle_outline</md-icon>
      <a class="url" [href]="video.url" target="_BLANK">{{ video.title + ' ' + formatDuration(video.duration) }}</a>
    </div>
  </div>
</md-card>
