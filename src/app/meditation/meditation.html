<div class="flexbox-item-grow fill-area fill-area-content list">
  <div class="chart-wrapper">
    <base-chart
      class="chart"
      [datasets]="chartData"
      [labels]="chartLabels"
      [options]="chartOptions"
      [legend]="false"
      chartType="line"
    >
    </base-chart>
  </div>

  <div *ngIf="activeMeditations?.length > 0">
    <h3>Currently meditating</h3>
    <md-card class="nopadding">
      <md-list class="meditations">
        <div *ngFor="let meditation of activeMeditations" class="meditation-row">
          <meditation-list-entry [meditation]="meditation" (liked)="loadMeditations()"></meditation-list-entry>
          <md-divider class="meditation-divider"></md-divider>
        </div>
      </md-list>
    </md-card>
  </div>

  <div *ngIf="finishedMeditations?.length > 0">
    <h3>Finished meditating</h3>
    <md-card class="nopadding">
      <md-list class="meditations">
        <div *ngFor="let meditation of finishedMeditations" class="meditation-row">
          <meditation-list-entry [meditation]="meditation" (liked)="loadMeditations()"></meditation-list-entry>
          <md-divider class="meditation-divider"></md-divider>
        </div>
      </md-list>
    </md-card>
  </div>

  <div
    *ngIf="finishedMeditations?.length + activeMeditations?.length === 0"
  >
    <h3>No recent meditations</h3>
  </div>
</div>

<md-card>
  <form (submit)="sendMeditation($event)" class="flex">
    <md-input
      [(ngModel)]="sitting"
      placeholder="Sitting"
      maxLength="3"
      class="fill meditation-input">
    </md-input>
    <md-input
      [(ngModel)]="walking"
      placeholder="Walking"
      maxLength="3"
      class="fill meditation-input">
    </md-input>
    <button
      md-mini-fab type="submit"
      [disabled]="!sitting && !walking"
    >
      <md-icon>alarm_on</md-icon>
    </button>
  </form>
</md-card>