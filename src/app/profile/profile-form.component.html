<mat-card *ngIf="profile">

  <form (submit)="save()" #profileForm="ngForm">

    <user-form [(model)]="profile"></user-form>

    <p>
      Profile images can be set with <a href="https://en.gravatar.com/" target="_BLANK">Gravatar</a> (more about this <a href="https://github.com/Sirimangalo/meditation-plus-angular/wiki/Profile" target="_BLANK">here</a>).
    </p>

    <p>
      <button
        mat-raised-button
        type="submit"
        color="primary"
        [disabled]="loading || !profileForm.form.valid"
      >
        <mat-spinner *ngIf="loading" diameter="22" strokeWidth="2" class="in-button-spinner"></mat-spinner>
        Update profile
      </button>
      <span *ngIf="updated">Your profile has been updated.</span>
      <span *ngIf="error">There was an error saving your profile.</span>
    </p>
  </form>
</mat-card>

<mat-card *ngIf="!profile" class="loader">
  <mat-spinner></mat-spinner> Loading profile...
</mat-card>
