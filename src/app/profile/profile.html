<button
  md-fab
  color="accent"
  [routerLink]="['/profile']"
  *ngIf="profile && profile._id === userId"
>
  <md-icon>edit</md-icon>
</button>

<div *ngIf="!notFound">
  <div class="center" *ngIf="profile">
    <img class="profile-img" avatar [hash]="profile.gravatarHash">
    <h3>{{ profile.name }}</h3>
  </div>

  <md-card *ngIf="profile">

    <blockquote *ngIf="profile.description">
      {{ profile.description }}
    </blockquote>

    <table>
      <tr *ngIf="profile.website">
        <th>Website</th>
        <td [innerHTML]="escape(profile.website)|linky"></td>
      </tr>
      <tr *ngIf="profile.local.email">
        <th>Email</th>
        <td>{{ profile.local.email }}</td>
      </tr>
      <tr *ngIf="profile.country">
        <th>Country</th>
        <td>
          <img src="/assets/img/flags/16/{{ profile.country.toLowerCase() }}.png">
        </td>
      </tr>
    </table>

    <div class="chart-wrapper">
      <base-chart
        class="chart"
        [datasets]="chartData"
        [labels]="chartLabels"
        [options]="chartOptions"
        [legend]="false"
        chartType="bar"
      >
      </base-chart>
    </div>
  </md-card>

  <md-card *ngIf="!profile" class="loader">
    <md-spinner></md-spinner> Loading profile...
  </md-card>
</div>

<md-card *ngIf="notFound">
  <md-card-title>Profile not found!</md-card-title>

  <p>The requested profile cannot be found.</p>
</md-card>